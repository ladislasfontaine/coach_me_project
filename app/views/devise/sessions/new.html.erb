<div class="overflow-y-hidden">

  <div class="background_form">
     <%= image_tag("background-form.jpg", class:'background_form_img', alt:"fond d'image") %>
  </div>

  <div class="d-flex justify-content-center align-items-center">
    <div class="box-form text-center">

      <div class="d-flex justify-content-center align-items-end">
        <%= image_tag 'coachme-logo.png', class:'logo-size', alt:'logo' %>
        <h1 class="orange">CoachMe</h1>
      </div>
      <hr>
      <h4 class="mt-3">Se connecter</h4>

      <%= link_to 'Se connecter via Facebook', user_facebook_omniauth_authorize_path, class:"btn btn-primary mt-4" %>
      <fb:login-button scope="public_profile,email" onlogin="checkLoginState();">
      </fb:login-button>

      <%= form_for(resource, as: resource_name, url: session_path(resource_name)) do |f| %>
        <div class="field form my-2">
          <%= f.email_field :email, autofocus: true, autocomplete: "email", required: true %>
          <label for="email" class="label-name">
            <span class="content-name"><%= f.label :email %><br /></span>
          </label>
        </div>

        <div class="field form my-2">
          <%= f.password_field :password, autocomplete: "current-password", required: true %>
          <label for="password" class="label-name">
            <span class="content-name">
              <%= f.label :password %>
              <br />
            </span>
          </label>
        </div>

        <% if devise_mapping.rememberable? %>
          <div class="field mt-3">
            <%= f.check_box :remember_me %>
            <%= f.label :remember_me %>
          </div>
        <% end %>

        <div class="actions pb-2">
          <%= f.submit "Se connecter", class:"btn btn-primary mt-4" %>
        </div>
        <hr>

        <p>Pas encore inscrit ?</p>
        <div class="d-flex justify-content-center">
          <div class="actions">
            <%= render "devise/shared/links"%>
          </div>
        </div>

      <% end %>

    </div>
  </div>
  
</div>

<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId      : '490446361589071',
      cookie     : true,
      xfbml      : true,
      version    : 'v5.0'
    });
      
    FB.AppEvents.logPageView();   
      
  };

  (function(d, s, id){
     var js, fjs = d.getElementsByTagName(s)[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement(s); js.id = id;
     js.src = "https://connect.facebook.net/en_US/sdk.js";
     fjs.parentNode.insertBefore(js, fjs);
   }(document, 'script', 'facebook-jssdk'));
</script>